{if="!empty($search_tags)"}
  <div class="alert alert-dark">
    <p class="mb-0">
      <a href="?searchtags={$search_tags|urlencode}"
         class="btn btn-sm btn-outline-primary"
      >
        {'List all'|t}
      </a>
      &middot;
      {$exploded_tags=explode(' ', $search_tags)}
      {loop="$exploded_tags"}
          <span class="badge badge-secondary">
            {$value}
            &nbsp;
            <a href="?removetag={$value|urlencode}"
               title="{'Remove tag'|t}"
               aria-label="{'Remove tag'|t}"
               class="text-reset"
            >
              <span aria-hidden="true">&times;</span>
            </a>
          </span>&nbsp;
      {/loop}
    </p>
  </div>
{/if}

{$isCloud=($_GET['do']==='tagcloud') ? ' ' : ''}
{$isList=($_GET['do']==='taglist') ? ' ' : ''}
{$isUsage=($_GET['sort']==='usage') ? ' ' : ''}
{$isAlpha=($_GET['sort']==='alpha') ? ' ' : ''}

<p class="btn-group m-1"
   role="group"
   aria-label="{'Show as:'|t}"
>
  <a href="?do=tagcloud{$searchcrits}"
     class="btn btn-outline-secondary {$isCloud ? 'active' : ''}"
  >{'Cloud'|t}</a>
  <a href="?do=taglist&sort={$_GET['sort']}{$searchcrits}"
     class="btn btn-outline-secondary {$isList ? 'active' : ''}"
  >{'List'|t}</a>
</p>

<p class="btn-group m-1"
   role="group"
   aria-label="{'Sort by:'|t}"
>
  <a href="?do={$_GET['do']}&sort=usage{$searchcrits}"
     class="btn btn-outline-secondary {$isUsage ? 'active' : ''}"
  >{'Most used'|t}</a>
  <a href="?do={$_GET['do']}&sort=alpha{$searchcrits}"
     class="btn btn-outline-secondary {$isAlpha ? 'active' : ''}"
  >{'Alphabetical'|t}</a>
</p>
