{if="!empty($search_tags)"}
  <div class="alert alert-dark">
    <p class="mb-0">
      <a href="?searchtags={$search_tags|urlencode}"
         class="btn btn-sm btn-outline-primary"
      >
        {'List all'|t}
      </a>
      &middot;
      {$exploded_tags=explode(' ', $search_tags)}
      {loop="$exploded_tags"}
          <span class="badge badge-secondary">
            {$value}
            &nbsp;
            <a href="?removetag={$value|urlencode}"
               title="{'Remove tag'|t}"
               class="text-reset"
            >
              <span class="sr-only">{'Remove tag'|t}</span>
              <span aria-hidden="true">&times;</span>
            </a>
          </span>&nbsp;
      {/loop}
    </p>
  </div>
{/if}

{$isCloud=(!$_GET['sort']) ? ' ' : ''}
{$isUsage=($_GET['sort']==='usage') ? ' ' : ''}
{$isAlpha=($_GET['sort']==='alpha') ? ' ' : ''}

<p class="btn-group m-0"
   role="group"
   aria-label="{'Sort by:'|t}"
>
  <a href="?do=tagcloud{if="!empty($search_tags)"}&searchtags={$search_tags|urlencode}{/if}"
     class="btn btn-outline-secondary {if="$isCloud"} active {/if}"
  >{'Cloud'|t}</a>
  <a href="?do=taglist&sort=usage{if="!empty($search_tags)"}&searchtags={$search_tags|urlencode}{/if}"
     class="btn btn-outline-secondary {if="$isUsage"} active {/if}"
  >{'Most used'|t}</a>
  <a href="?do=taglist&sort=alpha{if="!empty($search_tags)"}&searchtags={$search_tags|urlencode}{/if}"
     class="btn btn-outline-secondary {if="$isAlpha"} active {/if}"
  >{'Alphabetical'|t}</a>
</p>
